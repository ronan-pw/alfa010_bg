////////////////////////////////////////////////////////////////////////////////
//
//  System Name : ACR Configuration File
//     Filename : acf_cre_onspawnin
//    $Revision:: 280        $ current version of the file
//        $Date:: 2007-03-20#$ date the file was created or modified
//       Author : Cipher
//
//    Var Prefix:
//  Dependencies:
//
//  Description
//  This script calls the ACR's OnSpawnIn event handler for creatures
//  and any custom code a server may need. It is not updated in ACR updates.
//
//  Revision History
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Includes ////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
#include "acr_creature_i"
#include "010_randomnpc_i"

////////////////////////////////////////////////////////////////////////////////
// Constants ///////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Structures //////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Global Variables ////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Function Prototypes /////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Function Definitions ////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

void main()
{
	ACR_CreatureOnSpawnIn();

	ExecuteScript("acf_advanced_spawn", OBJECT_SELF);

	RandomizeNPCScale();

	string sArmType, sHelmType, sShldType, sWeapType;

	switch (d3()) {
		case 1:sArmType="010_sand_npc_gobleather0";break;
		case 2:sArmType="010_sand_npc_gobleather1";break;
		case 3:sArmType="010_sand_npc_gobleather2";break;
	}
	if (GetHasFeat(FEAT_WEAPON_FOCUS_SHORTBOW)) {
		switch (d3()) {
			case 1:sShldType="010_it_shld_humanoid2";break;
			case 2:sShldType="010_it_shld_humanoid1";break;
			case 3:sShldType="010_it_shld_humanoid0";break;
			case 4:sShldType="010_it_spear_humanoid1";break;
		}
	}
	switch (d3()) {
		case 1:sWeapType="010_it_axe_humanoid";break;
		case 2:sWeapType="010_it_mornstar_humanoid0";break;
		case 3:sWeapType="010_it_ssword_humanoid";break;
	}
	object oArmour=CreateItemOnObject(sArmType);
	object oWeapon=CreateItemOnObject(sWeapType);
	object oShield=CreateItemOnObject(sShldType);
	AssignCommand(OBJECT_SELF,ActionEquipItem(oArmour,1));
	AssignCommand(OBJECT_SELF,ActionEquipItem(oWeapon,4));
	AssignCommand(OBJECT_SELF,ActionEquipItem(oShield,5));
}
